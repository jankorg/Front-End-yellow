(this["webpackJsonpwheater-app"]=this["webpackJsonpwheater-app"]||[]).push([[0],{34:function(e,t,c){e.exports={footer:"Footer_footer__7dIj9"}},40:function(e,t,c){},41:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),i=c(32),r=c.n(i),o=(c(40),c(41),c(3)),j=c(14),l=c(15),u=c(13),d=c.n(u),b="http://localhost:3002",h=function(){function e(){Object(j.a)(this,e)}return Object(l.a)(e,[{key:"getMenu",value:function(){return d.a.get("".concat(b,"/api/getMenu"))}},{key:"getFooter",value:function(){return d.a.get("".concat(b,"/api/getfooter"))}},{key:"getHeader",value:function(){return d.a.get("".concat(b,"/api/getContent"))}},{key:"getListResults",value:function(e){return d.a.get("".concat(b,"/api/items?q=").concat(e))}},{key:"getDetailById",value:function(e){return d.a.get("".concat(b,"/api/items/").concat(e))}},{key:"getDetailDescriptionById",value:function(e){return d.a.get("".concat(b,"/api/items/").concat(e,"/description"))}}]),e}(),O=(c(60),c(11)),x=(c(61),c(62),Object(a.memo)((function(e){var t=Object(a.useState)(""),c=Object(o.a)(t,2),s=(c[0],c[1]),i=function(t){s(t.target.value),e.onClick(t)};return Object(n.jsxs)("form",{className:"SearchForm",onSubmit:i,method:"GET",role:"search",children:[Object(n.jsx)("input",{type:"text",className:"search-input","aria-label":"Nunca dejes de buscar",name:"search",placeholder:"Nunca dejes de buscar"}),Object(n.jsx)("button",{type:"submit",className:"nav-search-btn",children:Object(n.jsx)("div",{role:"img","aria-label":"Buscar",className:"nav-icon-search",onClick:i,children:"Buscar"})})]})}))),f=c(2),m=function(){var e=Object(a.useState)(Object),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(f.f)(),r=Object(a.useMemo)((function(){return{searchQuery:"",searchResult:"",onClick:function(e){return j(e)}}}),[c]),j=function(e){s(e.target.value),i.push("/items?search=".concat(c))};return Object(n.jsx)("div",{className:"SearchForm","data-testid":"SearchForm",children:Object(n.jsx)(x,Object(O.a)({},r))})},g=c(5),p=new h,v=function(){var e=Object(a.useState)(Object),t=Object(o.a)(e,2),c=(t[0],t[1]);return Object(a.useEffect)((function(){p.getHeader().then((function(e){c(e.data)}))}),[]),Object(n.jsx)("header",{className:"Header","data-testid":"Header",children:Object(n.jsxs)(g.Row,{children:[Object(n.jsx)(g.Col,{xs:2,children:Object(n.jsx)("a",{className:"nav-logo",href:"/",children:"Mercado Libre Colombia - Donde comprar y vender de todo"})}),Object(n.jsx)(g.Col,{xs:10,children:Object(n.jsx)(m,{})})]})})},N=(c(75),c(76),function(){function e(){Object(j.a)(this,e)}return Object(l.a)(e,null,[{key:"getParameter",value:function(e,t){return new URL(e).searchParams.get(t)}},{key:"getId",value:function(e){return e.substr(e.lastIndexOf("/")+1)}}]),e}()),C=(c(77),function(e){var t=Object(a.useState)({categories:e.categories}),c=Object(o.a)(t,2),s=c[0];c[1];return Object(n.jsx)("div",{className:"BreadCrumb","data-testid":"BreadCrumb",children:Object(n.jsx)("ul",{children:s.categories.map((function(e){return Object(n.jsx)("li",{children:"".concat(e," | ")})}))})})}),y=new h,S=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),s=c[0],i=c[1],r=Object(a.useState)({categories:["cat1","cat2"]}),j=Object(o.a)(r,2),l=j[0],u=j[1];return Object(a.useEffect)((function(){var t=N.getParameter(e.path,"search");console.log(t),y.getListResults(t).then((function(e){u({categories:e.data.categories[0]});var t=e.data.items.slice(0,4).map((function(e){return Object(n.jsxs)(g.Row,{className:"section",start:"xs",children:[Object(n.jsx)(g.Col,{xs:3,children:Object(n.jsx)("div",{className:"image-container",children:Object(n.jsx)("a",{href:"items/".concat(e.id),title:e.title,children:Object(n.jsx)("img",{width:"160",height:"160",src:e.thumbnail,alt:e.title})})})}),Object(n.jsx)(g.Col,{xs:6,children:Object(n.jsxs)("div",{className:"detail-info",children:[Object(n.jsx)("div",{className:"price",children:Object(n.jsxs)("p",{children:["$",e.price.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")]})}),Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("a",{href:"items/".concat(e.id),title:e.title,children:Object(n.jsx)("h2",{children:e.title})})})]})}),Object(n.jsx)(g.Col,{xs:3,children:Object(n.jsx)("div",{className:"shipping",children:Object(n.jsx)("p",{children:e.shipping.free_shipping?Object(n.jsx)("span",{children:"Envio gr\xe1tis"}):Object(n.jsx)("span",{children:"Sin Envio gr\xe1tis"})})})})]})}));i(t)})).catch((function(e){console.log("error servicio getListResults ".concat(e))}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(C,Object(O.a)({},l)),Object(n.jsx)("div",{className:"Results","data-testid":"Results",children:s.map((function(e){return e}))})]})},w=(c(78),new h),k=function(e){var t=Object(a.useState)({}),c=Object(o.a)(t,2),s=c[0],i=c[1],r=Object(a.useState)({categories:["cat1","cat2","cat3"]}),j=Object(o.a)(r,2),l=j[0];j[1];return Object(a.useEffect)((function(){var t=N.getId(e.path);console.log(t),w.getDetailById(t).then((function(e){console.log(e),i(e.data)})).catch((function(e){console.log("error servicio getListResults ".concat(e))}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(C,Object(O.a)({},l)),Object(n.jsxs)("div",{className:"Detail","data-testid":"Detail",children:[Object(n.jsxs)(g.Row,{className:"section",start:"xs",children:[Object(n.jsx)(g.Col,{xs:8,children:Object(n.jsx)("div",{className:"image-container",children:Object(n.jsx)("img",{width:"680",height:"468",src:s.thumbnail,alt:s.title})})}),Object(n.jsx)(g.Col,{xs:4,children:Object(n.jsxs)("div",{className:"detail-info",children:[s.condition?Object(n.jsx)("p",{children:"Nuevo"}):Object(n.jsx)("p",{children:"Usado"}),Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("h2",{children:s.title})}),Object(n.jsx)("div",{className:"price",children:Object(n.jsxs)("p",{children:["$",s.price]})}),Object(n.jsx)("div",{className:"btn-comprar",children:Object(n.jsx)("button",{type:"submit",className:"nav-search-btn",children:"Comprar"})})]})})]}),Object(n.jsx)(g.Row,{children:Object(n.jsxs)(g.Col,{className:"description",xs:9,children:[Object(n.jsx)("h1",{children:"Detalle del Producto"}),Object(n.jsx)("p",{children:s.description})]})})]})]})},F=function(){function e(){Object(j.a)(this,e)}return Object(l.a)(e,null,[{key:"getPage",value:function(e){var t="detalle";return e.includes("search")&&(t="lista"),t}}]),e}(),R=function(){var e=window.location.href,t=Object(a.useState)({path:e}),c=Object(o.a)(t,2),s=c[0],i=(c[1],Object(a.useState)("")),r=Object(o.a)(i,2),j=r[0],l=r[1];return Object(a.useEffect)((function(){var t=F.getPage(e);l("lista"===t?"lista":"detalle")}),[]),Object(n.jsx)("div",{className:"Items","data-testid":"Items",children:"lista"===j?Object(n.jsx)(S,Object(O.a)({},s)):Object(n.jsx)(k,Object(O.a)({},s))})},I=c(20),B=c(34),D=c.n(B),E=new h,L=function(){var e=Object(a.useState)(Object),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){E.getFooter().then((function(e){s(e.data)}))}),[]),Object(n.jsx)("div",{className:D.a.footer,"data-testid":"Footer",children:Object(n.jsx)("p",{children:c.text})})};var P=function(){return Object(n.jsx)(I.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(v,{}),Object(n.jsx)("main",{role:"main",children:Object(n.jsx)(f.c,{children:Object(n.jsx)(f.a,{path:"/items",children:Object(n.jsx)(R,{})})})}),Object(n.jsx)(L,{})]})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,80)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root")),M(console.log)}},[[79,1,2]]]);
//# sourceMappingURL=main.96036d3d.chunk.js.map